<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Panel - Live Location</title>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>

<style>
table {
  width: 100%;
  border-collapse: collapse;
}
th, td {
  padding: 10px;
  border: 1px solid #000;
  text-align: center;
}
</style>
</head>
<body>

<h2>Admin Panel â€” Live User Locations</h2>

<table>
<tr>
  <th>User ID</th>
  <th>Latitude</th>
  <th>Longitude</th>
  <th>Time</th>
</tr>
<tbody id="data"></tbody>
</table>

<script>
// Firebase Config
const firebaseConfig = {
  apiKey: "AIzaSyCsGBSRCHVUhXQZ5DNMEZWgQWk1gxMF1E4",
  authDomain: "signup-d32c5.firebaseapp.com",
  projectId: "signup-d32c5",
  storageBucket: "signup-d32c5.firebasestorage.app",
  messagingSenderId: "583812949955",
  appId: "1:583812949955:web:fab1bb7be94bc1b4ab3f76",
  measurementId: "G-VLC3QHK8CG"
};

firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

db.collection("users").onSnapshot(snapshot => {
  let html = "";
  snapshot.forEach(doc => {
    let d = doc.data();
    html += `
      <tr>
        <td>${d.id}</td>
        <td>${d.latitude}</td>
        <td>${d.longitude}</td>
        <td>${d.time}</td>
      </tr>`;
  });
  document.getElementById("data").innerHTML = html;
});
</script>

</body>
</html>
