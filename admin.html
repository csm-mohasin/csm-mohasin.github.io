<!DOCTYPE html>
<html>
<head>
<title>Admin Panel</title>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

// Firebase Config
const firebaseConfig = {
  apiKey: "AIzaSyCsGBSRCHVUhXQZ5DNMEZWgQWk1gxMF1E4",
  authDomain: "signup-d32c5.firebaseapp.com",
  projectId: "signup-d32c5",
  storageBucket: "signup-d32c5.firebasestorage.app",
  messagingSenderId: "583812949955",
  appId: "1:583812949955:web:fab1bb7be94bc1b4ab3f76",
  measurementId: "G-VLC3QHK8CG"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

async function loadData() {
  const q = await getDocs(collection(db, "visitors"));
  q.forEach(docSnap => {
    let d = docSnap.data();
    document.getElementById("log").innerHTML += `
      <div style="margin:6px;padding:8px;border:1px solid #ccc;border-radius:6px">
        ğŸŒ <b>OS:</b> ${d.os}<br>
        ğŸ“± UA: ${d.userAgent}<br>
        ğŸ”‹ <b>Battery:</b> ${d.battery} (Charging: ${d.charging})<br>
        ğŸ“ <b>Location:</b> ${d.location}<br>
        â±ï¸ <b>Time:</b> ${d.time?.toDate ? d.time.toDate() : d.time}<br>
        ğŸ•’ Last Update: ${d.lastUpdate || "N/A"}
      </div>
    `;
  });
}

window.onload = loadData;
</script>

</head>
<body style="font-family:Arial;">
<h2>Admin Dashboard ğŸ”¥</h2>
<div id="log"></div>
</body>
</html>
