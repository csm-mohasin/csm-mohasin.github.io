<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Live Location Sender</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  font-family: Arial, sans-serif;
  text-align: center;
  background: #eef3f8;
  padding: 50px 10px;
}
.card {
  background: #fff;
  padding: 20px;
  border-radius: 10px;
  width: 90%;
  max-width: 400px;
  margin: auto;
  box-shadow: 0 3px 10px rgba(0,0,0,0.1);
}
button {
  background: #28a745;
  color: white;
  border: none;
  padding: 12px 16px;
  font-size: 16px;
  border-radius: 8px;
}
</style>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

<script>
// ‚úÖ Your Firebase Config
const firebaseConfig = {
  apiKey: "AIzaSyCsGBSRCHVUhXQZ5DNMEZWgQWk1gxMF1E4",
  authDomain: "signup-d32c5.firebaseapp.com",
  projectId: "signup-d32c5",
  storageBucket: "signup-d32c5.firebasestorage.app",
  messagingSenderId: "583812949955",
  appId: "1:583812949955:web:fab1bb7be94bc1b4ab3f76",
  databaseURL: "https://signup-d32c5-default-rtdb.firebaseio.com/"
};
firebase.initializeApp(firebaseConfig);
var dbRef = firebase.database().ref("location");
</script>

</head>
<body>

<div class="card">
  <h2>üìç Share Live Location</h2>
  <p>Press start to allow live tracking</p>
  <button onclick="startTracking()">Start Live Tracking</button>
  <p id="status"></p>
</div>

<script>
function startTracking() {
  if (!navigator.geolocation) {
    alert("Geolocation not supported!");
    return;
  }

  document.getElementById("status").innerText = "Requesting permission...";

  navigator.geolocation.watchPosition(
    position => {
      let lat = position.coords.latitude;
      let lon = position.coords.longitude;

      dbRef.set({
        latitude: lat,
        longitude: lon,
        time: new Date().toISOString()
      });

      document.getElementById("status").innerText =
        "‚úÖ Live Tracking Active\nLat: " + lat + "\nLon: " + lon;
    },
    error => {
      alert("Location permission denied!");
    },
    { enableHighAccuracy: true, maximumAge: 0, timeout: 5000 }
  );
}
</script>

</body>
</html>
